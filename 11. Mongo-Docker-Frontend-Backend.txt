ROJECT STRUCTURE
myapp/
  frontend/
    index.html
    style.css
    script.js
    nginx.conf
  backend/
    server.js
    seed.js
    package.json
    Dockerfile
  docker-compose.yml

ðŸ“Œ FRONTEND
index.html
<!DOCTYPE html>
<html>
<head>
  <title>User App</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button id="getUsers">Get Users</button>
  <button id="getHello">Get Message</button>

  <div id="message"></div>
  <div id="users"></div>

  <script src="script.js"></script>
</body>
</html>

script.js
document.getElementById("getUsers").onclick = async () => {
  const res = await fetch("/api/users");
  const data = await res.json();
  document.getElementById("users").innerHTML =
    data.map(u => `${u.id} - ${u.name} (${u.address})`).join("<br>");
};

document.getElementById("getHello").onclick = async () => {
  const res = await fetch("/api/hello");
  const data = await res.json();
  document.getElementById("message").textContent = data.message;
};

nginx.conf
server {
  listen 80;
  root /usr/share/nginx/html;
  index index.html;

  location /api/ {
    proxy_pass http://backend:3000/;
  }
}

ðŸ“Œ BACKEND
server.js
const express = require("express");
const mongoose = require("mongoose");
const app = express();

mongoose.connect("mongodb://database:27017/mydb");

const User = mongoose.model("User", { id: Number, name: String, address: String });

app.get("/api/hello", (req, res) => res.json({ message: "Hello from Backend" }));

app.get("/api/users", async (req, res) => res.json(await User.find()));

app.listen(3000, () => console.log("Backend running"));

seed.js
const mongoose = require("mongoose");
mongoose.connect("mongodb://database:27017/mydb");

const User = mongoose.model("User", { id: Number, name: String, address: String });

(async () => {
  await User.deleteMany();
  await User.insertMany([
    { id: 1, name: "Kunal", address: "Pune" },
    { id: 2, name: "Omkar", address: "Mumbai" },
    { id: 3, name: "Ravi", address: "Delhi" }
  ]);
  console.log("Users inserted");
  process.exit();
})();

Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3000
CMD ["node", "server.js"]

ðŸ“Œ DOCKER COMPOSE
docker-compose.yml
version: "3.8"

services:
  database:
    image: mongo
    networks: [myapp]

  backend:
    build: ./backend
    ports: ["3000:3000"]
    depends_on: [database]
    networks: [myapp]

  frontend:
    image: nginx:alpine
    ports: ["80:80"]
    volumes:
      - ./frontend:/usr/share/nginx/html
      - ./frontend/nginx.conf:/etc/nginx/conf.d/default.conf
    depends_on: [backend]
    networks: [myapp]

networks:
  myapp:

ðŸš€ HOW TO RUN (ONLY 3 STEPS)
Step 1
docker-compose up -d --build

Step 2
docker exec -it backend node seed.js